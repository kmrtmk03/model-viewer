/**
 * コントロールパネルのスタイル
 * @description Cyberpunk / Glassmorphism Aesthetic
 * 
 * frontend-designスキルに基づき、洗練されたテック感のあるデザインに再構築。
 */

// Local Design Variables
$cyber-cyan: #00f3ff
$cyber-purple: #bc13fe
$cyber-blue: #2d5af8
$deep-bg: #0b0c15
$glass-bg: rgba(11, 12, 21, 0.65)
$glass-border: rgba(255, 255, 255, 0.12)
$text-main: rgba(255, 255, 255, 0.95)
$text-muted: rgba(255, 255, 255, 0.65)

// パネル本体
.panel
  position: absolute
  top: 24px
  left: 24px
  width: 280px
  max-height: calc(100vh - 48px)
  overflow-y: auto

  // Glassmorphism Base
  background: $glass-bg
  backdrop-filter: blur(24px)
  -webkit-backdrop-filter: blur(24px)
  border: 1px solid $glass-border
  border-radius: 16px
  padding: 24px
  box-shadow: 0 16px 40px -8px rgba(0, 0, 0, 0.6)
  z-index: 100

  // Scrollbar customization
  &::-webkit-scrollbar
    width: 4px
  &::-webkit-scrollbar-track
    background: transparent
  &::-webkit-scrollbar-thumb
    background: rgba(255, 255, 255, 0.15)
    border-radius: 2px
    &:hover
      background: $cyber-cyan

// タイトル
.title
  font-family: 'Inter', system-ui, sans-serif
  font-size: 13px
  font-weight: 800
  letter-spacing: 0.12em
  text-transform: uppercase
  color: $text-main
  margin: 0 0 24px 0
  padding-bottom: 16px
  border-bottom: 1px solid rgba(255, 255, 255, 0.08)
  display: flex
  align-items: center

  &::before
    content: ''
    display: inline-block
    width: 8px
    height: 8px
    background: $cyber-cyan
    border-radius: 50%
    box-shadow: 0 0 12px $cyber-cyan
    margin-right: 12px

// コントロール群コンテナ
.controls
  display: flex
  flex-direction: column
  gap: 16px
  padding: 8px 0

// チェックボックスコントロール (CheckboxControl.tsxで参照)
.control
  display: flex
  align-items: center
  gap: 12px
  cursor: pointer
  padding: 4px 0
  transition: all 0.2s ease

  &:hover span
    color: $text-main
    text-shadow: 0 0 12px rgba(255, 255, 255, 0.4)

  input[type="checkbox"]
    appearance: none
    width: 18px
    height: 18px
    background: rgba(255, 255, 255, 0.08)
    border: 1px solid rgba(255, 255, 255, 0.2)
    border-radius: 4px
    position: relative
    cursor: pointer
    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)

    &:checked
      background: rgba(0, 243, 255, 0.2)
      border-color: $cyber-cyan
      box-shadow: 0 0 12px rgba(0, 243, 255, 0.4)

      &::after
        content: ''
        position: absolute
        left: 5px
        top: 2px
        width: 6px
        height: 10px
        border: solid $cyber-cyan
        border-width: 0 2px 2px 0
        transform: rotate(45deg)

  span
    font-size: 12px
    font-weight: 500
    color: $text-muted
    transition: color 0.2s ease

// スライダーコントロール (SliderControl.tsxで参照)
.slider
  margin-bottom: 20px

  label
    display: flex
    flex-direction: column
    gap: 10px

    span
      font-size: 11px
      font-weight: 600
      color: $text-muted
      letter-spacing: 0.05em
      text-transform: uppercase

    // カスタムレンジスライダー
    input[type="range"]
      -webkit-appearance: none
      width: 100%
      height: 4px
      background: rgba(255, 255, 255, 0.1)
      border-radius: 2px
      outline: none
      cursor: pointer

      &::-webkit-slider-thumb
        -webkit-appearance: none
        width: 14px
        height: 14px
        background: $cyber-cyan
        border-radius: 50%
        cursor: pointer
        transition: all 0.2s ease
        box-shadow: 0 0 0 4px rgba(0, 243, 255, 0.1)
        margin-top: -5px

      &::-webkit-slider-runnable-track
        width: 100%
        height: 4px
        background: linear-gradient(90deg, rgba(45, 90, 248, 0.5), rgba(0, 243, 255, 0.5))
        border-radius: 2px

      &:hover::-webkit-slider-thumb
        box-shadow: 0 0 12px $cyber-cyan, 0 0 0 4px rgba(0, 243, 255, 0.2)
        transform: scale(1.1)

      &:active::-webkit-slider-thumb
        background: $text-main
        transform: scale(0.95)

// ラジオボタングループ
.radioGroup
  margin-bottom: 20px

  .label
    display: block
    font-size: 11px
    font-weight: 700
    letter-spacing: 0.08em
    text-transform: uppercase
    color: $text-muted
    margin-bottom: 10px

  .options
    display: flex
    background: rgba(0, 0, 0, 0.2)
    padding: 3px
    border-radius: 8px
    border: 1px solid rgba(255, 255, 255, 0.08)

  .radioLabel
    flex: 1
    position: relative
    cursor: pointer
    display: flex
    align-items: center
    justify-content: center

    input[type="radio"]
      appearance: none
      position: absolute
      width: 0
      height: 0
      opacity: 0

      &:checked + span
        background: rgba(255, 255, 255, 0.1)
        color: $cyber-cyan
        text-shadow: 0 0 12px rgba(0, 243, 255, 0.5)
        border: 1px solid rgba(0, 243, 255, 0.15)
        box-shadow: inset 0 0 12px rgba(0, 243, 255, 0.1)

    span
      display: block
      width: 100%
      text-align: center
      padding: 8px 0
      font-size: 11px
      font-weight: 600
      color: $text-muted
      border-radius: 6px
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)
      border: 1px solid transparent

      &:hover
        color: $text-main
        background: rgba(255, 255, 255, 0.05)

// セレクトボックス
.select
  margin-bottom: 16px

  label
    span
      display: block
      font-size: 11px
      font-weight: 700
      color: $text-muted
      margin-bottom: 8px
      text-transform: uppercase
      letter-spacing: 0.05em

    select
      width: 100%
      background: rgba(255, 255, 255, 0.05)
      border: 1px solid rgba(255, 255, 255, 0.1)
      border-radius: 8px
      padding: 10px 12px
      color: $text-main
      font-family: inherit
      font-size: 12px
      outline: none
      cursor: pointer
      transition: all 0.2s ease

      // カスタム矢印（SVGなどで置き換えるのが一般的だがCSSのみで簡易実装）
      // ここではブラウザデフォルトの矢印を消してカスタマイズするのは少し手間なので
      // シンプルなスタイル適用に留める

      &:hover
        background: rgba(255, 255, 255, 0.08)
        border-color: rgba(255, 255, 255, 0.2)

      &:focus
        border-color: $cyber-cyan
        box-shadow: 0 0 0 1px rgba(0, 243, 255, 0.3)

      option
        background: #0b0c15
        color: white

// カラーピッカー
.colorPicker
  margin-top: 16px
  padding: 12px
  background: rgba(255, 255, 255, 0.03)
  border-radius: 8px
  border: 1px solid rgba(255, 255, 255, 0.05)

  label
    display: flex
    align-items: center
    justify-content: space-between
    cursor: pointer

    span
      font-size: 11px
      font-weight: 700
      color: $text-muted
      text-transform: uppercase
      letter-spacing: 0.05em

    input[type="color"]
      -webkit-appearance: none
      border: none
      width: 48px
      height: 28px
      background: none
      cursor: pointer

      &::-webkit-color-swatch-wrapper
        padding: 0

      &::-webkit-color-swatch
        border: 1px solid rgba(255, 255, 255, 0.2)
        border-radius: 6px
        transition: transform 0.2s ease

      &:hover::-webkit-color-swatch
        transform: scale(1.05)
        border-color: $cyber-cyan

// リセットボタン
.resetButton
  margin-top: 32px
  width: 100%
  padding: 12px 0
  font-family: inherit
  font-size: 11px
  font-weight: 700
  letter-spacing: 0.12em
  color: $text-muted
  background: transparent
  border: 1px solid rgba(255, 255, 255, 0.1)
  border-radius: 8px
  cursor: pointer
  transition: all 0.3s ease
  text-transform: uppercase
  position: relative
  overflow: hidden

  &::before
    content: ''
    position: absolute
    top: 0
    left: 0
    width: 0%
    height: 100%
    background: rgba(255, 71, 87, 0.1)
    transition: width 0.3s ease
    z-index: -1

  &:hover
    color: #ff4757
    border-color: #ff4757
    box-shadow: 0 0 20px rgba(255, 71, 87, 0.2)

    &::before
      width: 100%

// セクションタイトル（Accordion内で使用されていないかもしれないが念のため）
.sectionTitle
  margin: 0 0 8px 0
  font-size: 12px
  font-weight: 600
  color: $text-muted
